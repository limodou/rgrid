var string_editor=function(e,o,t){var n=this,i=$(e),r=i.width(),a=i.height(),d=$(riot.util.tmpl('<input type="text" name={name} value="{value}" placeholder="{placeholder}" class="inline-editor"></input>',t));return d.css({position:"absolute",left:i.css("paddingLeft"),top:0,width:r,height:a,margin:0,padding:0,border:"none",boxSizing:"border-box",zIndex:1e3,fontSize:14,backgroundColor:"#ffefd5"}),i.append(d),d.focus().select(),d.on("keyup",function(e){if(13==e.keyCode){var i=d.val();o[t.name]=i,$.when(n.onEdited(o,t,i)).then(function(e){e&&(n.root.update(o),d.destory())})}else 27==e.keyCode&&d.destory()}),d.on("blur",function(e){d.destory()}),d.destory=function(){d.remove()},d},select_editor=function(e,o,t){for(var n,i=this,r=$(e),a=r.width(),d=r.height(),l=[riot.util.tmpl('<select name={name} class="inline-editor">',{name:t.name})],u=t.editor.choices,s=0,p=u.length;s<p;s++)n={value:t.value,option_value:u[s][0],option_text:u[s][1]},l.push(riot.util.tmpl('<option {value==option_value?"selected":""} value={option_value}>{option_text}</option>',n));l.push("</select>");var c=$(l.join(""));return c.css({position:"absolute",left:0,top:0,width:a,height:d,margin:0,padding:0,border:"none",boxSizing:"border-box",zIndex:1e3,fontSize:14,backgroundColor:"#ffefd5"}),r.append(c),c.focus(),c.on("change",function(e){var n=c.val();o[t.name]=n,$.when(i.onEdited(o,t,n)).then(function(e){e&&(i.root.update(o),c.destory())})}),c.destory=function(){c.remove()},c},date_editor=function(e,o,t){var n=this,i=$(e),r=i.width(),a=i.height(),d=$(riot.util.tmpl('<input type="text" name={name} value="{value}" placeholder="{placeholder}" class="inline-editor"></input>',t));return d.css({position:"absolute",left:0,top:0,width:r,height:a,margin:0,padding:0,border:"none",boxSizing:"border-box",zIndex:1e3,fontSize:14,backgroundColor:"#ffefd5"}),i.append(d),d.focus().select().pikaday({format:"YYYY-MM-DD",showTime:!1,onClose:function(){var e=d.val();o[t.name]=e,$.when(n.onEdited(o,t,e)).then(function(e){e&&(n.root.update(o),d.destory())})}}),d.pikaday("show"),d.destory=function(){d.remove()},d};